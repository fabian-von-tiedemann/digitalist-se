---
phase: 01-foundation
plan: 03
type: execute
depends_on: ["01-01"]
files_modified: [tailwind.config.ts, src/styles/globals.css, src/lib/fonts.ts, src/app/[locale]/layout.tsx]
---

<objective>
Establish design tokens and typography foundation for "Myndig Innovation" aesthetic.

Purpose: Create the visual foundation that all UI components will build upon.
Output: Tailwind config with custom colors, typography, and spacing; fonts loaded; dark/light theme tokens.
</objective>

<execution_context>
./.claude/get-shit-done/workflows/execute-plan.md
./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation/01-01-SUMMARY.md

**Tech stack (från Plan 01):**

- Next.js 14 + Directus (self-hosted) + PostgreSQL
- Tailwind CSS för styling
- Alla komponenter på Upsun

**Design direction from PROJECT.md:**
- "Myndig Innovation" — not startup-playful, not government-gray
- Materiality: concrete, steel, light beams, glass
- Structure and transparency
- "Modern brutalism meets sci-fi" — authoritative/solid + transparent

**Color interpretation:**
- Primary: Deep navy/slate (authority, trust)
- Accent: Electric blue or cyan (innovation, tech)
- Neutral: Concrete grays
- Background: Near-white with subtle texture
</context>

<tasks>

<task type="auto">
  <name>Task 1: Configure Tailwind design tokens</name>
  <files>tailwind.config.ts</files>
  <action>
Update tailwind.config.ts with custom design tokens:

```ts
import type { Config } from 'tailwindcss'

const config: Config = {
  content: [
    './src/pages/**/*.{js,ts,jsx,tsx,mdx}',
    './src/components/**/*.{js,ts,jsx,tsx,mdx}',
    './src/app/**/*.{js,ts,jsx,tsx,mdx}',
  ],
  theme: {
    extend: {
      colors: {
        // Primary - Deep authoritative navy
        primary: {
          50: '#f0f4f8',
          100: '#d9e2ec',
          200: '#bcccdc',
          300: '#9fb3c8',
          400: '#829ab1',
          500: '#627d98',
          600: '#486581',
          700: '#334e68',
          800: '#243b53',
          900: '#102a43',
          950: '#0a1929',
        },
        // Accent - Electric innovation blue
        accent: {
          50: '#e6f6ff',
          100: '#bae3ff',
          200: '#7cc4fa',
          300: '#47a3f3',
          400: '#2186eb',
          500: '#0967d2',
          600: '#0552b5',
          700: '#03449e',
          800: '#01337d',
          900: '#002159',
        },
        // Neutral - Concrete grays
        concrete: {
          50: '#f8f9fa',
          100: '#f1f3f5',
          200: '#e9ecef',
          300: '#dee2e6',
          400: '#ced4da',
          500: '#adb5bd',
          600: '#868e96',
          700: '#495057',
          800: '#343a40',
          900: '#212529',
        },
      },
      fontFamily: {
        sans: ['var(--font-inter)', 'system-ui', 'sans-serif'],
        display: ['var(--font-space-grotesk)', 'system-ui', 'sans-serif'],
        mono: ['var(--font-jetbrains-mono)', 'monospace'],
      },
      fontSize: {
        // Fluid typography scale
        'display-xl': ['clamp(3rem, 5vw, 5rem)', { lineHeight: '1.1', letterSpacing: '-0.02em' }],
        'display-lg': ['clamp(2.5rem, 4vw, 4rem)', { lineHeight: '1.15', letterSpacing: '-0.02em' }],
        'display-md': ['clamp(2rem, 3vw, 3rem)', { lineHeight: '1.2', letterSpacing: '-0.01em' }],
        'display-sm': ['clamp(1.5rem, 2.5vw, 2rem)', { lineHeight: '1.25' }],
      },
      spacing: {
        // Section spacing
        'section': 'clamp(4rem, 10vw, 8rem)',
        'section-sm': 'clamp(2rem, 5vw, 4rem)',
      },
      borderRadius: {
        'brutalist': '2px', // Sharp, minimal rounding
      },
      boxShadow: {
        'brutalist': '4px 4px 0 0 rgb(var(--shadow-color, 0 0 0) / 0.1)',
        'brutalist-lg': '8px 8px 0 0 rgb(var(--shadow-color, 0 0 0) / 0.1)',
      },
    },
  },
  plugins: [],
}

export default config
```

This creates:
- Three color scales (primary, accent, concrete)
- Custom font family setup for Inter, Space Grotesk, JetBrains Mono
- Fluid typography for responsive display text
- Brutalist-inspired shadows and minimal border radius
  </action>
  <verify>npm run dev starts without Tailwind errors</verify>
  <done>Design tokens configured in Tailwind: colors, fonts, typography scale</done>
</task>

<task type="auto">
  <name>Task 2: Set up fonts with next/font</name>
  <files>src/lib/fonts.ts, src/app/[locale]/layout.tsx</files>
  <action>
Create src/lib/fonts.ts:
```ts
import { Inter, Space_Grotesk, JetBrains_Mono } from 'next/font/google'

export const inter = Inter({
  subsets: ['latin'],
  variable: '--font-inter',
  display: 'swap',
})

export const spaceGrotesk = Space_Grotesk({
  subsets: ['latin'],
  variable: '--font-space-grotesk',
  display: 'swap',
})

export const jetbrainsMono = JetBrains_Mono({
  subsets: ['latin'],
  variable: '--font-jetbrains-mono',
  display: 'swap',
})
```

Update src/app/[locale]/layout.tsx:
- Import fonts from lib/fonts
- Add font variables to html/body className
- Apply font-sans as default

Example:
```tsx
import { inter, spaceGrotesk, jetbrainsMono } from '@/lib/fonts'

// In the html tag:
<html lang={locale} className={`${inter.variable} ${spaceGrotesk.variable} ${jetbrainsMono.variable}`}>
  <body className="font-sans bg-concrete-50 text-primary-900">
    {children}
  </body>
</html>
```
  </action>
  <verify>Inspect page in browser, fonts load correctly (check Network tab for Google Fonts)</verify>
  <done>Three font families loaded and available as CSS variables</done>
</task>

<task type="auto">
  <name>Task 3: Create base styles and CSS custom properties</name>
  <files>src/styles/globals.css, src/app/[locale]/layout.tsx</files>
  <action>
Update src/styles/globals.css (or src/app/globals.css):
```css
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Light theme tokens */
    --background: 248 249 250; /* concrete-50 */
    --foreground: 16 42 67; /* primary-900 */
    --muted: 233 236 239; /* concrete-200 */
    --muted-foreground: 73 80 87; /* concrete-700 */
    --border: 206 212 218; /* concrete-400 */
    --ring: 9 103 210; /* accent-500 */
    --shadow-color: 16 42 67; /* primary-900 */
  }

  /* Future dark mode support */
  .dark {
    --background: 10 25 41; /* primary-950 */
    --foreground: 241 243 245; /* concrete-100 */
    --muted: 36 59 83; /* primary-800 */
    --muted-foreground: 159 179 200; /* primary-300 */
    --border: 51 78 104; /* primary-700 */
    --ring: 33 134 235; /* accent-400 */
    --shadow-color: 0 0 0;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    @apply bg-concrete-50 text-primary-900 antialiased;
  }

  /* Focus styles for accessibility */
  :focus-visible {
    @apply outline-none ring-2 ring-accent-500 ring-offset-2;
  }

  /* Selection colors */
  ::selection {
    @apply bg-accent-200 text-primary-900;
  }
}

@layer components {
  /* Brutalist button base */
  .btn-brutalist {
    @apply px-6 py-3 font-medium border-2 border-primary-900
           shadow-brutalist transition-all duration-150
           hover:translate-x-1 hover:translate-y-1 hover:shadow-none
           focus-visible:translate-x-1 focus-visible:translate-y-1;
  }
}

@layer utilities {
  /* Text balance for headings */
  .text-balance {
    text-wrap: balance;
  }
}
```

Ensure layout.tsx imports this global CSS file.
  </action>
  <verify>npm run dev shows styled page with correct background color and font rendering</verify>
  <done>Base styles, CSS custom properties, and utility classes established</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` completes without errors
- [ ] Custom colors work: `bg-primary-900`, `text-accent-500`
- [ ] Display fonts render: `font-display` shows Space Grotesk
- [ ] Fluid typography works: resize browser, text scales
- [ ] Focus states visible and accessible
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Design tokens ready for component development
- Typography and color system established
- Phase 1: Foundation complete
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-03-SUMMARY.md`

**Note:** This is the final plan for Phase 1. Upon completion, Phase 1: Foundation is complete.
</output>
