---
phase: 04-polish-launch
plan: 03
type: execute
depends_on: ["04-01"]
files_modified: [src/app/[locale]/layout.tsx, src/app/[locale]/page.tsx, src/app/[locale]/case/[slug]/page.tsx, src/app/[locale]/blogg/[slug]/page.tsx, src/components/JsonLd.tsx]
domain: next-js
---

<objective>
Implement LLM SEO with Schema.org structured data for AI crawlers and knowledge graphs.

Purpose: Make content machine-readable so AI models (ChatGPT, Perplexity, Claude) can accurately reference and cite Digitalist.
Output: JSON-LD structured data on all pages, optimized for AI understanding and citation.
</objective>

<execution_context>
./.claude/get-shit-done/workflows/execute-plan.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Prior decisions:
- Meta tags and sitemap from 04-01
- Mock data structure for case studies and blog posts

# Relevant source files:
@src/app/[locale]/layout.tsx
@src/app/[locale]/page.tsx
@src/app/[locale]/case/[slug]/page.tsx
@src/app/[locale]/blogg/[slug]/page.tsx
@src/lib/directus.ts

# LLM SEO principles:
- Clear, semantic content structure
- Schema.org JSON-LD for machine readability
- Definitive statements that can be cited
- Entity relationships (Organization, Service, Article)
- FAQ schema for common questions
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create JsonLd component and Organization schema</name>
  <files>src/components/JsonLd.tsx, src/app/[locale]/layout.tsx</files>
  <action>
1. Create src/components/JsonLd.tsx:
   - Generic component that renders script type="application/ld+json"
   - Accept `data` prop with any Schema.org object
   - Handle proper JSON stringification

2. Add Organization schema to layout.tsx:
   ```json
   {
     "@context": "https://schema.org",
     "@type": "Organization",
     "name": "Digitalist",
     "alternateName": "Digitalist Open Tech AB",
     "url": "https://digitalist.se",
     "logo": "https://digitalist.se/logo.svg",
     "description": "Sveriges enda öppna helhetspartner för suverän AI i offentlig sektor",
     "address": {
       "@type": "PostalAddress",
       "streetAddress": "Kungsgatan 44",
       "addressLocality": "Stockholm",
       "postalCode": "111 35",
       "addressCountry": "SE"
     },
     "sameAs": [],
     "knowsAbout": ["Artificial Intelligence", "GDPR", "AI Act", "Kubernetes", "Open Source"]
   }
   ```

3. Add WebSite schema with SearchAction (for future search):
   ```json
   {
     "@context": "https://schema.org",
     "@type": "WebSite",
     "name": "Digitalist",
     "url": "https://digitalist.se",
     "inLanguage": ["sv", "en"]
   }
   ```
  </action>
  <verify>View page source, validate JSON-LD with Google Rich Results Test</verify>
  <done>Organization and WebSite schemas present in page head</done>
</task>

<task type="auto">
  <name>Task 2: Add Article schema to blog posts</name>
  <files>src/app/[locale]/blogg/[slug]/page.tsx</files>
  <action>
1. Import JsonLd component

2. Add Article schema to each blog post:
   ```json
   {
     "@context": "https://schema.org",
     "@type": "Article",
     "headline": "[post title]",
     "description": "[post excerpt]",
     "datePublished": "[post date ISO]",
     "dateModified": "[post date ISO]",
     "author": {
       "@type": "Person",
       "name": "[author name]"
     },
     "publisher": {
       "@type": "Organization",
       "name": "Digitalist",
       "logo": { "@type": "ImageObject", "url": "https://digitalist.se/logo.svg" }
     },
     "mainEntityOfPage": {
       "@type": "WebPage",
       "@id": "[post URL]"
     },
     "articleSection": "[category]",
     "inLanguage": "[locale]"
   }
   ```

3. Build schema from post data fetched in page

4. Use proper ISO 8601 dates
  </action>
  <verify>View blog post source, Article schema present with correct data</verify>
  <done>All blog posts have Article schema with author, date, category</done>
</task>

<task type="auto">
  <name>Task 3: Add Service and CaseStudy schemas</name>
  <files>src/app/[locale]/page.tsx, src/app/[locale]/case/[slug]/page.tsx</files>
  <action>
1. Add Service schemas to homepage for the four dimensions:
   ```json
   {
     "@context": "https://schema.org",
     "@type": "Service",
     "name": "Skyddet / The Shield",
     "description": "Säker AI-infrastruktur som uppfyller GDPR, OSL och AI Act",
     "provider": { "@type": "Organization", "name": "Digitalist" },
     "serviceType": "AI Infrastructure",
     "areaServed": { "@type": "Country", "name": "Sweden" }
   }
   ```
   Add all four services in an array.

2. Add CaseStudy schema to case detail pages:
   ```json
   {
     "@context": "https://schema.org",
     "@type": "Article",
     "@id": "[case URL]",
     "headline": "[case title]",
     "description": "[case excerpt]",
     "about": {
       "@type": "Thing",
       "name": "[client name]"
     },
     "author": { "@type": "Organization", "name": "Digitalist" },
     "datePublished": "[publish date]"
   }
   ```

3. Consider adding Review schema if testimonials have ratings (skip for now - testimonials don't have numerical ratings)
  </action>
  <verify>Homepage shows Service schemas, case pages show Article schemas</verify>
  <done>Service offerings and case studies machine-readable via Schema.org</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds
- [ ] Organization schema in layout head
- [ ] Blog posts have Article schema
- [ ] Homepage has Service schemas
- [ ] Case studies have Article schemas
- [ ] Validate with https://validator.schema.org/ or Google Rich Results Test
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- No TypeScript errors
- JSON-LD validates without errors
- Phase 4 complete
  </success_criteria>

<output>
After completion, create `.planning/phases/04-polish-launch/04-03-SUMMARY.md` with:
- Schemas implemented
- Validation results
- "Phase complete, ready for production launch"
</output>
